package net.runelite.api;

/**
 * Dummy API for testing agent-to-client communication via patch-based minimal API.
 */
public class DummyApi {
    /**
     * Returns a test string to verify agent communication with patched RuneLite.
     */
    public static String getTestString() {
        return "dummy-api-success";
    }

    /**
     * Returns a list of current menu entries as strings (option|target), for minimal API testing.
     * Patched: Returns all currently loaded menu entries from the client.
     */
    public static String[] getMenuEntries() {
        // Patched: Access the client and return all menu entries as option|target strings
        net.runelite.api.Client client = net.runelite.client.RuneLite.getClient();
        if (client == null) {
            return new String[0];
        }
        net.runelite.api.Menu menu = client.getMenu();
        if (menu == null) {
            return new String[0];
        }
        net.runelite.api.MenuEntry[] entries = menu.getMenuEntries();
        if (entries == null) {
            return new String[0];
        }
        String[] result = new String[entries.length];
        for (int i = 0; i < entries.length; i++) {
            String option = entries[i].getOption();
            String target = entries[i].getTarget();
            result[i] = option + "|" + target;
        }
        return result;
    }
}
